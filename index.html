<!DOCTYPE html>
<html lang="ko">
<head>
  <link rel="icon" href="favicon.ico?v=2" sizes="any">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>HCMS</title>

  <link rel="stylesheet" href="assets/hcms.css">
</head>

<body>

<header class="topbar">
  <img src="assets/hope.png" alt="희망이엔지">
  <div class="title">HCMS</div>
  <img src="assets/hanwha.png" alt="한화에너지">
</header>

<main class="container">

  <!-- 대시보드 -->
  <section class="card" id="dashboard">
    <h2>점검 현황</h2>
    <div class="dash" style="display:grid;grid-template-columns:repeat(5,1fr);gap:16px;">
      <div class="dash-item" style="background:var(--hcms-box);border:1px solid var(--hcms-line);border-radius:14px;padding:18px;text-align:center;">
        전체 <div id="d_total" style="font-size:40px;font-weight:900;color:var(--hcms-orange);margin-top:6px;">0</div>
      </div>
      <div class="dash-item" style="background:var(--hcms-box);border:1px solid var(--hcms-line);border-radius:14px;padding:18px;text-align:center;">
        완료 <div id="d_done" style="font-size:40px;font-weight:900;color:var(--hcms-orange);margin-top:6px;">0</div>
      </div>
      <div class="dash-item" style="background:var(--hcms-box);border:1px solid var(--hcms-line);border-radius:14px;padding:18px;text-align:center;">
        보류 <div id="d_hold" style="font-size:40px;font-weight:900;color:var(--hcms-orange);margin-top:6px;">0</div>
      </div>
      <div class="dash-item" style="background:var(--hcms-box);border:1px solid var(--hcms-line);border-radius:14px;padding:18px;text-align:center;">
        미완 <div id="d_fail" style="font-size:40px;font-weight:900;color:var(--hcms-orange);margin-top:6px;">0</div>
      </div>
      <div class="dash-item" style="background:var(--hcms-box);border:1px solid var(--hcms-line);border-radius:14px;padding:18px;text-align:center;">
        미점검 <div id="d_none" style="font-size:40px;font-weight:900;color:var(--hcms-orange);margin-top:6px;">0</div>
      </div>
    </div>

    <style>
      @media (max-width:900px){
        .dash{ grid-template-columns:repeat(2,1fr)!important; }
      }
    </style>
  </section>

  <!-- 점검 입력 -->
  <section class="card">
    <h2>크레인 점검 입력</h2>

    <div style="display:grid;grid-template-columns:160px 1fr;gap:16px;align-items:center;margin-bottom:18px;">
      <label>크레인 번호</label>
      <input id="i_crane_no" class="input" placeholder="예: 203,678,508 / 타워는 TC-61 처럼 입력" />

      <label>결과</label>
      <select id="i_result" class="input">
        <option value="완료">완료</option>
        <option value="보류">보류</option>
        <option value="미완">미완</option>
      </select>

      <label>다음 점검일</label>
      <input id="i_next" class="input" type="date" />

      <label>비고</label>
      <!-- ✅ 높이만 키움 -->
      <textarea id="i_comment" class="input" placeholder="비고(메모)"></textarea>
    </div>

    <div style="display:flex;gap:14px;flex-wrap:wrap;">
      <button class="btn" onclick="saveInspection()">점검 저장</button>
      <button class="btn warn" onclick="resetInspectionStatus()">분기 리셋</button>
    </div>
  </section>

  <!-- 점검 예정 대시보드 -->
  <section class="card" id="schedule-dashboard">
    <h2>점검 예정</h2>

    <div class="schedule-wrap" style="display:grid;grid-template-columns:1fr 1fr;gap:16px;">
      <div class="schedule-box" style="background:var(--hcms-box);border:1px solid var(--hcms-line);border-radius:14px;padding:16px;">
        <h3 style="margin:0 0 10px 0;">소형 / 서비스 크레인</h3>
        <div class="schedule-list" id="schedule-small"></div>
      </div>

      <div class="schedule-box" style="background:var(--hcms-box);border:1px solid var(--hcms-line);border-radius:14px;padding:16px;">
        <h3 style="margin:0 0 10px 0;">타워 크레인</h3>
        <div class="schedule-list" id="schedule-tower"></div>
      </div>
    </div>

    <style>
      @media (max-width:900px){
        .schedule-wrap{ grid-template-columns:1fr!important; }
      }
      .schedule-card{
        border:1px solid var(--hcms-line);
        border-radius:12px;
        padding:12px;
        margin-bottom:10px;
        background:#fff;
      }
      .sc-title{ font-weight:900; font-size:18px; }
      .sc-sub{ margin-top:4px; color:#6b7280; font-weight:700; }
      .sc-btns{ margin-top:10px; display:flex; gap:8px; }

      /* ✅ 여기만 수정: 완료=주황 / 보류=빨강 */
      .sc-btns button{
        height:40px !important;
        padding:0 12px !important;
        border-radius:10px !important;
        border:0 !important;
        cursor:pointer !important;
        font-weight:900 !important;
      }
      .sc-btns button:nth-child(1){
        background:#ff8a00 !important;
        color:#000 !important;
      }
      .sc-btns button:nth-child(2){
        background:#e54848 !important;
        color:#fff !important;
      }

      .sc-btns button:hover{ filter: brightness(.98); }
      .sc-btns button:active{ transform: translateY(1px); }
    </style>
  </section>

  <!-- 메뉴 -->
  <section class="card">
    <h2>리스트</h2>
    <div style="display:flex;gap:14px;flex-wrap:wrap;">
      <button class="btn" onclick="openCraneList()">소형크레인 리스트</button>
      <button class="btn" onclick="openTowerCraneList()">타워크레인 리스트</button>
      <button class="btn" onclick="openRemarkList()">비고 리스트</button>
      <button class="btn" onclick="openHoldList()">보류 리스트</button>
    </div>
  </section>

</main>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="app.js"></script>

</body>
</html>
